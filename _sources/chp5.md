# Tableau 五、进阶：数据集合并、符号地图、智能显示、插入自定义形状、仪表盘

Created: April 3, 2022 7:52 AM
Tags: Dr. Fangli Ying

导入“全球超市订单数据.xlsx”。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210616213435919.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210616213435919.png)

举例数据集合并

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210616213849964.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210616213849964.png)

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210616214223907.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210616214223907.png)

### 2.符号地图

将工作表命名为【各国家销售额符号地图】

### 修改数据为地图信息数据

通常情况下，Tableau会识别数据是否为地理信息。

如果国家地区导入时为[字符串](https://so.csdn.net/so/search?q=%E5%AD%97%E7%AC%A6%E4%B8%B2&spm=1001.2101.3001.7020)数据时，则需要转换为地理信息。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210616214723755.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210616214723755.png)

右击【维度】下【国家/地区】——【地理角色】，选择【国家/地区】。

常用的是【城市】、【国家/地区】、【省/市/自治区】。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/2021061715410990.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/2021061715410990.png)

右击【维度】下【城市】——【地理角色】，选择【城市】。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210617154435979.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210617154435979.png)

### 制作地图

制作地图的方式至少有四种，最简单的一种是直接将【维度】下【国家/地区】拖到图表区。

（如果图表不是地图为灰色，国家带点的，选择【智能显示】的下框出的显示方式）

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620215106977.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620215106977.png)

### 添加销售额

符号地图一般是用大小来表示对应的数值情况。

将【度量】下【销售额】放到【标记】下【大小】上。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620215514379.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620215514379.png)

通过【标记】下【大小】调整圆圈大小。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620215631175.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620215631175.png)

【维度】下【国家/地区】放到【标签】上，显示所有国家名称。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/2021062021581172.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/2021062021581172.png)

通过【颜色】修改圆颜色。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620220002938.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620220002938.png)

有些国家比如澳大利亚，名称显示重复了，怎么办？

【地图】——【地图层】，取消勾选【国家/地区名称】。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620220250359.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620220250359.png)

### 处理未知

在地图右下角显示【未知】，说明有些国家和地区没有识别出来。

点击【未知】——【编辑位置】

![Tableau%20%E4%BA%94%E3%80%81%20dc094/2021062022052250.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/2021062022052250.png)

可以找【匹配位置】下的选择框，选择相应国家和地区。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620220627219.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620220627219.png)

如果数据太多，不想匹配，也可以点击【筛选数据】，将数据剔除掉。（通常做法是筛选数据）

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620221428340.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620221428340.png)

### 制作地图的其他三种方法

### 双击

双击【维度】下【国家/地区】

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620221726305.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620221726305.png)

### 经度/纬度

将【度量】下【经度】拖到【列】中，将【维度】拖到【行】中。

将【维度】下【国家/地区】拖到【详细信息】上。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620221949497.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620221949497.png)

### 智能显示

按ctrl键，将【度量】下【经度】和【维度】选中，点击【智能显示】下地图。

将【维度】下【国家/地区】拖到【详细信息】上。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620222315708.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620222315708.png)

常用方法是直接拖和双击。

### 3.智能显示

在没有数据放到【行】和【列】的时候，【智能显示】是灰色的。

当放入数据的时候，【智能显示】会给出【建议】，比如说基本表（即文本表）。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620222658869.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620222658869.png)

放入多个数据时，【智能显示】的很多图表开始高亮，并在下方显示需要几个维度和度量。

橙色线框标出来的是【智能显示】推荐的图表。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620222941661.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620222941661.png)

### 4.插入自定义形状

【利润】放入【列】，【地区（订单）】放入【行】，点击【标记】下【形状】，在【形状】里可以选择多种形状，点击【更多形状】。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620223522577.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620223522577.png)

还有更多形状可以选择。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620223733814.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620223733814.png)

如果插入形状，建议使用png格式的图片。

在桌面【开始】菜单栏，右键【打开文件位置】。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620223934628.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620223934628.png)

右击打开文件位置。

在文件家【Shapes】就是存放图片的地方。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620224308947.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620224308947.png)

右击【新建文件夹】，用英文为文件夹起名字【people】，放入想放入类型的图片。

然后关闭Tableau，再打开，就可以利用图片了。

将【国家/地区】放入【筛选器】，勾选【中国】。

双击【城市】，显示中国地图。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620225515730.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620225515730.png)

【形状】点击【更多形状】，选择【people】。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/2021062022563415.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/2021062022563415.png)

调整【大小】为合适位置。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620225846334.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620225846334.png)

将【利润】放【颜色】上，人物形状的颜色发生改变。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620225941964.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620225941964.png)

【颜色】——【编辑】颜色，选择【红色-绿色发散】，【倒序】。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/2021062023015434.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/2021062023015434.png)

点击【未知】——【筛选数据】，将未知数据剔除掉。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620230257531.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210620230257531.png)

自定义形状可以放到条形图、气泡图等图形中。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621161418863.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621161418863.png)

课程大纲等纯文字文字可以放在仪表盘里。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621161950396.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621161950396.png)

也可以在PPT里做好课程大纲，另存为图片，然后通过【图像】Tableau里。（推荐后一种方法，因为PPT可以加logo，调整格式）。

### 【大小】

【大小】一般选自动。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621162845116.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621162845116.png)

### 放工作表

【工作表】下选择合适的工作表放入右边。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621162944145.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621162944145.png)

将【工作表3】拖入右边，可以放入上下左右等位置。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621163210282.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621163210282.png)

可以直接拖入图像，打开文件夹，选择图像。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621163535357.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621163535357.png)

### 调整图像

点击图像下拉箭头，【适合图像】和【使图像居中】，可以让图像在合适位置。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621163717503.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621163717503.png)

也可以通过图像之间的间隙调整图像大小（鼠标变成上下箭头或左右箭头的时候。）。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621163857336.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621163857336.png)

【文本】

拖【文本】到合适位置，注意，要放到最上边一行，必须拖入如下图显示的灰色区域。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/2021062116414533.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/2021062116414533.png)

修改文本字体和字号大小。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621164237341.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621164237341.png)

### 【网页】

可以直接拖入【网页】，输入网页地址。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621165015873.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621165015873.png)

不过一般是右击仪表盘里的图片——【设置URL】，然后输入网址。这样，点击图片，就可以打开网站。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621164631483.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621164631483.png)

### 【空白】

空白起着占位符的作用。图中左右各有一个空白，可以将工作表放中间。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621165325705.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621165325705.png)

### 【浮动】

默认图像是【平铺】，也可以选择【浮动】，让文本、图像和工作表等浮动在其他工作表上。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621165914941.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621165914941.png)

放入浮动的【工作表4】，点击【布局】，可以修改是否有标题，位置和图片大小。

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621172302555.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621172302555.png)

做好的仪表盘如下：

![Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621171443305.png](Tableau%20%E4%BA%94%E3%80%81%20dc094/20210621171443305.png)