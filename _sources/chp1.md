# Tableau 一、简介、条形图和直方图

Created: April 3, 2022 7:50 AM
Tags: Dr. Fangli Ying

可以去官网上看库 | Tableau Public

官网上也有视频等资源。

### 1 Tableau界面介绍

### 1.1数据导入界面

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609173808128.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609173808128.png)

导入分两种

- 
    
    导入文件
    
    文本文件是导入csv文件。
    
- 
    
    导入服务器
    

这里导入酒店数据.xlsx。

### 1.2 数据源界面

导入数据后进入数据源界面。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609174608837.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609174608837.png)

可以将工作表下的字段拖入到右边【将工作表拖到此处】中，会显示工作表的内容。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609174902909.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609174902909.png)

不想看该工作表，可以将该字段拖走，在拖入其他字段。

### 隐藏和显示隐藏字段

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609175154963.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609175154963.png)

右击字段——【隐藏】，可以隐藏该字段；如果想看隐藏字段或者取消隐藏，就勾选【显示隐藏字段】，右击隐藏字段——【取消隐藏】。

### 显示行数

默认是最多显示1000行，如果想显示2000行或全部显示，就输入2000行或一个足够大的数字，回车，数据会显示出来。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/2021060917554884.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/2021060917554884.png)

### 观察表格

里面的“热门等级”是根据评分人数计算的，评分的人数越多，说明越热门。

### 数据格式

这个表格的数据格式有两种 # 和Abc，Abc是字符串，# 是数字。数字可以比较和计算。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609180251147.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609180251147.png)

Tableau的数据类型

- 数字（十进制）
- 数字（整数）
- 日期和时间
- 日期
- 字符串
- 布尔
- 地理角色

### 1.3工作表界面

作图在工作表界面。

### 新建

可以新建

- 工作表
- 仪表盘
- 故事

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609180937725.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609180937725.png)

### 数据

最上面的可以选择excel表格

维度基本是字符串

度量基本是数值

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609181410659.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609181410659.png)

### 页面和筛选器

页面用来做动图

筛选器可筛选数据，比如增加或减少数据。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609181636312.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609181636312.png)

### 标记

**自动**：Tableau可以自动选择图表类型，也可以自己改变图表类型。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609182015184.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609182015184.png)

### 颜色、大小和文本

- 颜色是设置图表颜色
- 大小是设置图表大小
- 文本是设置文字标签

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609182326865.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609182326865.png)

### 列和行

- 列代表横轴
- 行代表纵轴

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609182754549.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609182754549.png)

### 清除工作表

如果想清除视图的图表，直接点清除工作表，就可以把当前工作表的图表清空。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609212608856.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609212608856.png)

### 2 Tableau绘制条形图

### 2.1 条形图1：各地区酒店数量

### 命名工作表

新建工作表，右击重命名后，视图里的标题也会发生变化。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609212850432.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609212850432.png)

### 记录数

每行数据就是一条记录，记录数就是行数，这个表格里每个酒店占据一行，记录数也就是酒店数。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609213210629.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609213210629.png)

### 升序和降序

行和列设置好字段，形成图形后，可以点击升序和降序，让条形图按升序或降序排列

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/2021060921390710.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/2021060921390710.png)

降序如下

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609214049571.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609214049571.png)

### 调整视图

图表里有些文字没有显示出来，点击【标准】——【整个视图】，显示整个视图，把文字显示出来。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609214139594.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609214139594.png)

### 行列互换

点击交互行和列。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609214335789.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609214335789.png)

### 添加标签

把度量的记录数拖到【标记】下的【标签】处，就能生成标签。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609214546500.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609214546500.png)

生成标签后

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609214732991.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609214732991.png)

### 2.2条形图2：各地区酒店均价

新建工作表，命名工作表为“各地区酒店均价”，拖“地区”到【列】，拖“价格”到行，调整视图为“整个视图”。

### 修改度量

右击字段“总和(价格)”（或点击下拉三角），选择【度量】里的【平均值】。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/2021060921525278.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/2021060921525278.png)

右击字段“总和(价格)”（或点击下拉三角），选择【度量】里的【平均值】，这样标签也改成了平均值。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609225521553.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609225521553.png)

最后，对条形图进行升序或降序。

### 2.3 条形图：价格等级堆积图

条形图是比较大小，属于比较型图表。

堆积图是看构成，属于构成型图表。

### 复制工作表

右击下方的“各地区酒店数量条形图”工作表，选择【复制】（如果有Tableau版本有两个【复制】的话，选择下面那个复制。）

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609221253466.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609221253466.png)

修改复制后的工作表名字为“价格等级堆积柱形图”。

交换行和列

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609221406305.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609221406305.png)

### 堆积柱形图

将"价格等级"拖到【颜色】上，形成价格等级堆积柱形图。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609221529787.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609221529787.png)

### 3.1 直方图概念与用途

直方图是用来呈现数据的分布情况。比如正态分布。

直方图和条形图差异：

直方图都是竖直的，不能横过来（横过来意义不大）；条形图可以。

直方图是看分布；条形图比较大小。

直方图图形画出后会呈现一定规律；条形图画出后一般没有规律。

直方图不能升序降序（升序降序意义不大）；条形图可以升序降序

### 3.2 创建评分直方图

### 创建数据桶

所有的直方图都要创建数据桶。

【度量】下“评分”右击——【创建】——【数据桶】

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609222950558.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609222950558.png)

在数据桶里，可以修改数据桶大小（组距）。数据桶大小和差异相关。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609223043644.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609223043644.png)

建好数据桶后，将“评分(数据桶)”拖到列中，将“记录数”放到行中。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609225332720.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609225332720.png)

注意：直方图的数据是只包含左边数值，不包含右边数值，比如说左边第一个直方是[1.364, 1.705)，里面的数值x是1.364<=x<1.705。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609223555872.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609223555872.png)

### 修改数据桶

右击“评分”——【编辑】，打开数据桶修改，比如将数据桶修改为0.25

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609224231900.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609224231900.png)

### 修改数字为区间

右击图表下方数字，右击【编辑别名】。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609224507384.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609224507384.png)

在【编辑别名】里修改为数字区间。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609224619280.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609224619280.png)

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609224707644.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210609224707644.png)

就这样一个个选择数字，然后一个个修改。

### 作业：

1、导入“豆瓣电影数据.xlsx”文件；

2、绘制**各国家电影数量**条形图（按此命名工作表），要求为横向条形图，按照升序排列，条形图顶部要有标签（要全部显示），选择整个视图将图表充满整个视图区，并给出分析结论；

3、创建电影评分的直方图（按此命名），数据间距为0.5分，修改底部数字标签，以实际评分区间为底部标签数值，标签要显示完整，并分析电影评分直方图。

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210614162201238.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210614162201238.png)

![Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210614162221197.png](Tableau%20%E4%B8%80%E3%80%81%2006fc9/20210614162221197.png)