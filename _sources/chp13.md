# Tableau 十三、雷达图与凹凸图

Created: April 3, 2022 7:53 AM
Tags: Dr. Fangli Ying

### 1.雷达图

多个[维度](https://so.csdn.net/so/search?q=%E7%BB%B4%E5%BA%A6&spm=1001.2101.3001.7020)的数据分析。

### 1.1数据表处理

导入数据“玩家综合能力雷达图数据.xlsx”

【圆1】-【圆5】对应着雷达图的五个圈。

在excel表格里，两个都是【进攻能力】；在Talbeau里，因为【进攻能力】重复，所以第二个命名为【进攻能力1】

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/2021070208540987.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/2021070208540987.png)

按住shift键，选择第二列到最后一列，右击——【[数据透视表](https://so.csdn.net/so/search?q=%E6%95%B0%E6%8D%AE%E9%80%8F%E8%A7%86%E8%A1%A8&spm=1001.2101.3001.7020)】。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702091647786.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702091647786.png)

右击列名，第二列重命名为【能力名称】，第三列重命名为【能力值】

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702091919848.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702091919848.png)

### 1.2创建计算字段

### 创建路径字段

创建路径，让每一个环形成一个封闭的环。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702092451712.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702092451712.png)

在【工作表1】，【度量】下空白处右击【创建计算字段】，字段名称为`路径`

公式为

```
CASE [能力名称]
WHEN '进攻能力' THEN 1
WHEN '辅助能力' THEN 2
WHEN '拆塔能力' THEN 3
WHEN '打钱能力' THEN 4
WHEN '单挑能力' THEN 5
WHEN '团战能力' THEN 6
WHEN '升级速度' THEN 7
WHEN '存活能力' THEN 8
ELSE 9
END
1
```

(注意，【进攻能力1】作为雷达图路径的闭环点。)

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702102524428.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702102524428.png)

### 创建角度字段

角度字段包括雷达图里每个点的X、Y坐标。

X坐标是半径*cos(角度) ，半径就是能力值。

【维度】下空白处右击【创建计算字段】，字段名称为`角度`

公式为

```
IF [路径]=9 THEN 0
ELSE -([路径]-1)*PI()/4
END

```

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702104108633.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702104108633.png)

【维度】下空白处右击【创建计算字段】，字段名称为`X`，公式为`[能力值]*COS([角度])`

【维度】下空白处右击【创建计算字段】，字段名称为`Y`，公式为`[能力值]*SIN([角度])`

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702104327231.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702104327231.png)

将【X】拖到【列】，将【Y】拖到【行】

【分析】——取消勾选【聚合度量】

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702110054387.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702110054387.png)

将【标记】下的【自动】改成【线】

将【F1】拖到【颜色】，将【路径】拖到标记下的【路径】。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702110257373.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702110257373.png)

### 1.3调整雷达图视图

### 添加标签

按ctrl，按住【行】里的【Y】进行复制。

点击第二个【Y】的下拉框——【双轴】，右击图表里右边的纵坐标表【同步轴】。

将【能力名称】拖到【总和(Y)(2)】下的【标签】上。

在【维度】下右击——【创建计算字段】，字段名称为【显示能力名称标签】，公式为`IF [能力值]=5 THEN [能力名称] END`

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702111420994.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702111420994.png)

将【总和(Y)(2)】下的【能力名称】标签拖走，将【显示能力名称标签】拖到【总和(Y)(2)】下的【标签】上。

### 调整标签

点击【标签】，勾选【允许标签覆盖其他标记】。

右击图表里的【进攻能力1】——【标记标签】——【从不显示】。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702111935548.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702111935548.png)

### 调整坐标轴边界

右击图表里的横坐标轴，勾选【固定】，【固定开始】为【-7】，【固定结束】为【7】。

右击图表里的纵坐标轴，勾选【固定】，【固定开始】为【-7】，【固定结束】为【7】。

调整图表里的【进攻能力】到合适位置。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702112405469.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702112405469.png)

图表里的其他标签也可以调整到合适位置。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702112712507.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702112712507.png)

### 添加数字标签

在【维度】下右击——【创建计算字段】，字段名称为【显示玩家能力值标签】，公式为

```
CASE [F1]
WHEN  '玩家A' THEN [能力值]
WHEN  '玩家B' THEN [能力值]
WHEN  '玩家C' THEN [能力值]
END

```

将【显示玩家能力值标签】拖到【总和(Y)】的【标签】上。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702113520190.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702113520190.png)

在右侧栏空白处右击——【筛选器】——【F1】,只选择【玩家A】和【圆1】-【圆5】。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702113909299.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702113909299.png)

右击【总和(Y)】的【显示玩家能力值标签】——【离散】，减少小数位数。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702114119674.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702114119674.png)

右击图表里重复的值【3.6】——【标记标签】——【从不显示】。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702114323148.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702114323148.png)

点击右侧【F1】的下拉框，选择【多值(下拉列表)】。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/2021070211450281.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/2021070211450281.png)

点击右侧【F1】下边【(多个值)】的下拉框，选择【玩家C】

右击图表里玩家C重复的值——【标记标签】——【从不显示】。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702114853774.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702114853774.png)

### 调整圆环颜色

右击右侧处——【编辑颜色】。将【圆1】-【圆5】调整为灰色，点击【应用】、【确定】。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702115229414.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702115229414.png)

### 隐藏坐标轴

右击坐标轴——取消勾选【显示标题】。

其余两个坐标轴也是同样处理。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702115536690.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702115536690.png)

### 调整雷达图角度

重命名【工作表1】为【玩家能力雷达图】，复制工作表，名称为【玩家能力雷达图(2)】。

在工作表【玩家能力雷达图(2)】里，右击【角度】——【编辑】，修改字段公式为

```
IF [路径]=9 THEN PI()/2
ELSE -([路径]-1)*PI()/4 + PI()/2
END

```

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702141541332.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702141541332.png)

图表里隐藏【进攻能力1】【4.31】【3.6】标签，调整其他标签位置。最终结果如下：

### 总结

雷达图创建6个计算字段：

- 路径
- 角度
- X
- Y
- 显示能力名称标签
- 显示玩家能力值标签

### 2.凹凸图（Bump Chart）

凹凸图用于不同排名中连接相同的事物，从而显示出不同事物的排名关系。从本质上是多线图和点的集合。

### 2.1超市各年份利润的凹凸图

导入数据“全球超市订单数据.xlsx”

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702142612815.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702142612815.png)

新建【工作表3】，将【订购日期】拖到【列】，将【利润】拖到【行】。

点击【行】里【利润】的下拉框——【快速表计算】——【排序】。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702142834301.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702142834301.png)

将【子类别】拖到【颜色】里。

点击【行】里【利润】的下拉框——【编辑表计算】，点击【特定维度】——【子类别】。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702143147900.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702143147900.png)

按着ctrl，复制【行】里的【利润】，点击第二个【利润】带下拉框【双轴】，点击图表里的纵坐标轴——【同步轴】。

点击【标记】下的【总和(利润)(2)】的【自动】，修改成【形状】。点击【形状】选择实心圆。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/2021070214371030.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/2021070214371030.png)

### 添加标签

点击【总和(利润)(2)】下的【标签】，勾选【显示标记标签】和【允许标签覆盖其他标记】；点击【对齐】，选择水平和垂直的【居中】。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702145824353.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702145824353.png)

### 去除空行

发现图表多了一个空行，右击纵坐标轴——【编辑轴】，点击【固定】，修改【固定结束】的值为【18】。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702150230182.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702150230182.png)

### 隐藏坐标轴

右击纵坐标轴——【编辑轴】，点击【倒序】。

右击右边的纵坐标轴——取消勾选【显示标题】。

右击左边的纵坐标轴——取消勾选【显示标题】。

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702150651498.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702150651498.png)

修改【工作表3】为【利润凹凸图】。结果显示如下：

![Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702150956395.png](Tableau%20%E5%8D%81%E4%B8%89%20815c2/20210702150956395.png)